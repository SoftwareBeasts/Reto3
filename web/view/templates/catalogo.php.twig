{% extends "base.html.twig" %}
    {# Requiere los siguientes datos:
        un array con todas las categorias, que contengan id, nombre y
        cada una de ellas, un array con todos los datos de los productos
        que contienen
    #}
{% block titulo %}
    Cat&aacute;logo de productos
{% endblock %}

{% block navbarContent%}

{% endblock %}

{% block content %}
    <div class="container-fluid">
        {% for categoria in categorias %}
            <div class="card">
                <div class="card-body">
                    <button class="btn-link" type="button" data-toggle="collapse" data-target="#categoria{{ categoria.idcategoria }}" aria-expanded="false" aria-controls="categoria{{ categoria.idcategoria }}" >{{ categoria.nombre }}</button>
                </div>
            </div>
            <div class="row collapse" id="categoria{{ categoria.idcategoria }}">
                {% for producto in categoria.productos %}
                    <div class="col-12 col-md-4">
                        <figure class="figure float-left">
                            <img src="{{ producto.rutaImg }}" alt="{{ producto.nombre }}" class="rounded img-fluid" width="200px" height="200px">
                            <figcaption class="figure-caption">
                                {{ producto.nombre }}
                            </figcaption>
                        </figure>
                        <span>{{ producto.descripcion }}</span>
                        <span>{{ producto.precio }}â‚¬</span>
                        <span>M&iacute;nimo de {{ producto.pedidoMin }}</span>
                        <form action="#" method="post">
                            <input type="number" id="spinner{{ producto.idproducto }}" min="{{ producto.pedidoMin }}" value="{{ producto.pedidoMin}}" name="spinner{{ producto.idproducto }}">
                            <button type="submit" value="enviar">Enviar</button>
                        </form>
                    </div>
                {% endfor %}
            </div>
         {% endfor %}
    </div>
{% endblock %}